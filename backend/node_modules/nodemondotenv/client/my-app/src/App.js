import { BrowserRouter as Router, Route, Routes, useParams } from 'react-router-dom';
import HomeScreen from './pages/HomeScreen';
import CatalogScreen from './pages/CatalogScreen';
import ContactsScreen from './pages/ContactsScreen';
import RegisterScreen from './pages/RegisterScreen';
import LoginScreen from './pages/LoginScreen';
import NavBar from './components/NavBar';
import AuthCheck from './components/AuthCheck';
import AdminCheck from './components/AdminCheck';
import React from 'react';
import GameDetailsScreen from './pages/GameDetailsScreen';
import CartScreen from './pages/CartScreen';
import { CartProvider } from './components/CartContext';
import LK from './pages/LK';
import Admin from './pages/Admin';

function App() {
  return (
    <CartProvider>
      <Router>
        <NavBar />
        <Routes>
          <Route path="/" element={<HomeScreen />} />
          <Route path="/catalog" element={
            <AuthCheck>
              <CatalogScreen />
            </AuthCheck>
          } />
          <Route path="/about" element={<ContactsScreen />} />
          <Route path="/register" element={<RegisterScreen />} />
          <Route path="/login" element={<LoginScreen />} />
          <Route path='/game-details/:id' element={<GameDetailsScreen />}/>
          <Route path='/cart' element={<CartScreen />}/>
          <Route path='/lk' element={<LK />}/>
          
          <Route path='/admin' element={
          <AdminCheck>
            <Admin />
          </AdminCheck>
          } />
        </Routes>
      </Router>
    </CartProvider>
  );
}

export default App;
